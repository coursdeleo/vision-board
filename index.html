<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warframe Vision 2025+</title>
    <style>
        :root {
            /* TA PALETTE DE COULEURS */
            --void-blue: #00F0FF;       /* Ton bleu turquoise parfait */
            --void-glow: rgba(0, 240, 255, 0.6);
            --retro-beige: #E0D6C2;     /* Style 1999 */
            --industrial-grey: #2F3136; /* Fond Warframe */
            --alert-red: #FF3333;       /* Accents */
            --gold: #D4AF37;            /* Orokin */
            
            --font-retro: 'Courier New', monospace;
            --font-scifi: 'Arial Black', sans-serif;
        }

        body {
            background-color: #1a1b1e;
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(0, 240, 255, 0.05) 0%, transparent 60%),
                linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .03) 25%, rgba(255, 255, 255, .03) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .03) 75%, rgba(255, 255, 255, .03) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .03) 25%, rgba(255, 255, 255, .03) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .03) 75%, rgba(255, 255, 255, .03) 76%, transparent 77%, transparent);
            background-size: 100% 100%, 50px 50px, 50px 50px;
            color: white;
            font-family: var(--font-scifi);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
            padding: 20px;
        }

        /* Le conteneur du Vision Board (Grille désordonnée) */
        .board-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            height: 800px;
            position: relative;
        }

        /* Styles généraux des cartes */
        .item {
            position: relative;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        .item:hover {
            z-index: 10;
            transform: scale(1.05) !important;
            box-shadow: 0 0 25px var(--void-blue);
        }

        /* --- ZONE 1: CENTRE - ETERNALISM --- */
        .center-piece {
            grid-column: 2 / 4;
            grid-row: 2 / 4;
            background: rgba(0,0,0,0.8);
            border: 2px solid var(--void-blue);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transform: rotate(-2deg);
        }

        .center-title {
            font-size: 3rem;
            color: var(--void-blue);
            text-shadow: 0 0 10px var(--void-glow);
            letter-spacing: 5px;
            margin: 0;
            text-transform: uppercase;
        }

        .center-subtitle {
            font-family: var(--font-retro);
            color: white;
            font-size: 1.2rem;
            margin-top: 10px;
        }

        /* --- ZONE 2: 1999 (Rétro) --- */
        .retro-zone {
            grid-column: 1 / 2;
            grid-row: 1 / 3;
            background-color: var(--retro-beige);
            color: black;
            transform: rotate(3deg);
            padding: 15px;
            display: flex;
            flex-direction: column;
            border-radius: 2px;
        }

        .retro-img-placeholder {
            width: 100%;
            height: 150px;
            background: #333;
            margin-bottom: 10px;
            background-image: repeating-linear-gradient(45deg, #000 0, #000 2px, #333 0, #333 4px);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--void-blue);
            font-size: 0.8rem;
            font-family: var(--font-retro);
            border: 2px solid black;
        }

        .retro-text {
            font-family: var(--font-retro);
            font-weight: bold;
            font-size: 1.5rem;
            text-decoration: underline;
        }
        
        .sticky-note {
            font-family: 'Comic Sans MS', cursive, sans-serif; /* Style manuscrit */
            font-size: 0.9rem;
            margin-top: 10px;
            color: #b22222;
            min-height: 60px;
        }

        /* AI Button Style */
        .ai-btn {
            background: black;
            color: var(--void-blue);
            border: 1px solid var(--void-blue);
            padding: 5px 10px;
            font-family: var(--font-retro);
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.8rem;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        .ai-btn:hover {
            background: var(--void-blue);
            color: black;
        }

        /* --- ZONE 3: WALLY (Horreur Cosmique) --- */
        .wally-zone {
            grid-column: 4 / 5;
            grid-row: 1 / 3;
            background: black;
            border: 1px solid var(--alert-red);
            color: var(--alert-red);
            transform: rotate(-4deg);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .wally-text {
            font-size: 2rem;
            writing-mode: vertical-rl;
            text-orientation: upright;
            position: absolute;
            right: 10px;
            top: 10px;
            letter-spacing: -5px;
            opacity: 0.7;
        }

        .wally-quote {
            font-family: var(--font-retro);
            font-size: 0.9rem;
            margin-top: auto;
            border-top: 1px solid var(--alert-red);
            padding-top: 10px;
        }

        /* --- ZONE 4: FUTURE (Tau System) --- */
        .future-zone {
            grid-column: 2 / 4;
            grid-row: 4 / 5;
            background: linear-gradient(90deg, #111, #222);
            border-top: 4px solid var(--void-blue);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 30px;
        }

        .system-map {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px dashed var(--void-blue);
            animation: spin 10s linear infinite;
        }

        /* --- ITEMS FLOTTANTS (Décoration) --- */
        .polaroid {
            grid-column: 1 / 2;
            grid-row: 3 / 4;
            background: white;
            padding: 10px 10px 30px 10px;
            color: black;
            transform: rotate(-5deg);
            text-align: center;
            font-family: var(--font-retro);
            font-size: 0.8rem;
        }
        
        .polaroid-img {
            background: #2F3136;
            height: 100px;
            width: 100%;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--void-blue);
        }

        .quote-card {
            grid-column: 4 / 5;
            grid-row: 3 / 4;
            background: transparent;
            border: 2px solid var(--gold);
            color: var(--gold);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-style: italic;
            padding: 10px;
            transform: rotate(2deg);
        }

        /* Animation de glitch/bruit */
        .glitch-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1), rgba(0,0,0,0.1) 1px, transparent 1px, transparent 2px);
            z-index: 99;
            opacity: 0.3;
        }

        /* Le fil conducteur (Ligne d'énergie) */
        .void-line {
            position: absolute;
            background: var(--void-blue);
            height: 2px;
            box-shadow: 0 0 10px var(--void-blue);
            z-index: 5;
            opacity: 0.6;
            transform-origin: left;
        }

        /* --- MODAL ORACLE --- */
        .oracle-modal {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 500px;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid var(--void-blue);
            box-shadow: 0 0 50px var(--void-blue);
            z-index: 1000;
            padding: 20px;
            color: var(--void-blue);
            font-family: var(--font-retro);
        }

        .oracle-modal h2 {
            margin-top: 0;
            text-transform: uppercase;
            border-bottom: 1px solid var(--void-blue);
            padding-bottom: 10px;
        }

        .oracle-input {
            width: 100%;
            background: transparent;
            border: 1px solid #333;
            border-bottom: 1px solid var(--void-blue);
            color: white;
            padding: 10px;
            margin-top: 10px;
            font-family: var(--font-retro);
        }

        .oracle-response {
            margin-top: 20px;
            min-height: 50px;
            color: white;
            font-style: italic;
        }

        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            cursor: pointer;
            color: var(--alert-red);
        }
        
        .loading-text {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .board-container {
                display: flex;
                flex-direction: column;
                height: auto;
            }
            .item { transform: rotate(0deg) !important; margin-bottom: 20px;}
            .void-line { display: none; }
        }

    </style>
</head>
<body>

    <div class="glitch-overlay"></div>

    <div class="board-container">
        
        <!-- ZONE 1999 (HAUT GAUCHE) - AI FEATURE 1 -->
        <div class="item retro-zone">
            <div class="retro-img-placeholder">
                [IMG: HÖLLVANIA SUBWAY]
            </div>
            <div class="retro-text">PROJET 1999</div>
            <div class="sticky-note" id="theory-text">
                > Localiser Arthur<br>
                > Le virus Techocyte<br>
                > "On time."
            </div>
            <button class="ai-btn" onclick="generateTheory()">
                <span>✨</span> DÉCRYPTER TRANSMISSION
            </button>
        </div>

        <!-- ZONE CENTRE (ETERNALISM) - AI FEATURE 2 -->
        <div class="item center-piece">
            <h1 class="center-title">ETERNALISM</h1>
            <p class="center-subtitle">"Passé et Futur existent simultanément."</p>
            <div style="margin-top: 20px; font-size: 0.8rem; color: var(--gold);">
                THE OPERATOR /// THE DRIFTER /// ARTHUR
            </div>
            <button class="ai-btn" onclick="openOracle()" style="margin-top:20px; background:transparent; border-color:var(--gold); color:var(--gold);">
                <span>✨</span> CONSULTER L'ORACLE
            </button>
        </div>

        <!-- ZONE WALLY (HAUT DROITE) -->
        <div class="item wally-zone">
            <div class="wally-text">RAP TAP TAP</div>
            <div style="font-size: 4rem; text-align: center; color: var(--void-blue);">?</div>
            <div class="wally-quote">
                "Ce n'est pas un mur.<br>C'est une porte."
            </div>
        </div>

        <!-- POLAROID (BAS GAUCHE) -->
        <div class="item polaroid">
            <div class="polaroid-img">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M12 6v6l4 2"></path>
                </svg>
            </div>
            <span>Minuit, Nouvel An.</span>
        </div>

        <!-- QUOTE (BAS DROITE) -->
        <div class="item quote-card">
            "Nous ne sommes pas nos corps.<br>Nous sommes l'énergie qui les habite."
        </div>

        <!-- ZONE FUTURE (BAS CENTRE) - AI FEATURE 3 (NEW) -->
        <div class="item future-zone">
            <div style="flex:1;">
                <strong style="color:var(--void-blue);">DESTINATION:</strong><br>
                SYSTÈME TAU
                <div id="tau-status" style="font-size: 0.8rem; color: #888; margin-top:5px; min-height:40px;">
                    STATUS: PENDING...
                </div>
            </div>
            <div class="system-map"></div>
            <button class="ai-btn" onclick="scanTauSystem()" style="margin-left:10px;">
                ✨ SCAN
            </button>
        </div>

        <!-- Lignes de connexion (Faux fils rouges/bleus) -->
        <div class="void-line" style="top: 25%; left: 20%; width: 35%; transform: rotate(15deg);"></div>
        <div class="void-line" style="top: 40%; right: 20%; width: 25%; transform: rotate(-10deg);"></div>
        <div class="void-line" style="bottom: 30%; left: 45%; width: 10%; transform: rotate(90deg);"></div>

    </div>

    <!-- MODAL ORACLE -->
    <div id="oracleModal" class="oracle-modal">
        <span class="close-modal" onclick="closeOracle()">X</span>
        <h2>/// VOID_LINK_ESTABLISHED</h2>
        <p style="font-size: 0.9rem; margin-bottom: 20px; color: #888;">
            Pose une question sur ton futur, Tenno. L'Indifférence écoute.
        </p>
        <div class="oracle-response" id="oracle-response-area">
            L'Oracle attend ta question...
        </div>
        <div style="display:flex; gap:10px; margin-top:15px;">
            <input type="text" id="user-question" class="oracle-input" placeholder="Où est Lotus ? Que veut Wally ?" onkeypress="handleEnter(event)">
            <button class="ai-btn" onclick="askGeminiOracle()">✨ DEMANDER</button>
        </div>
    </div>

    <script>
        const apiKey = ""; // La clé est gérée par l'environnement
        
        // --- UI INTERACTIVITY ---
        
        const items = document.querySelectorAll('.item');
        items.forEach(item => {
            item.addEventListener('mouseenter', () => {
                const hue = Math.random() > 0.5 ? '#00F0FF' : '#FF3333';
                item.style.boxShadow = `0 0 30px ${hue}`;
            });
            item.addEventListener('mouseleave', () => {
                item.style.boxShadow = '0 10px 20px rgba(0,0,0,0.5)';
            });
        });

        function openOracle() {
            document.getElementById('oracleModal').style.display = 'block';
        }

        function closeOracle() {
            document.getElementById('oracleModal').style.display = 'none';
        }

        function handleEnter(e) {
            if(e.key === 'Enter') askGeminiOracle();
        }

        // --- GEMINI API INTEGRATION ---

        async function callGemini(promptText) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: promptText
                            }]
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error('Erreur réseau ou API');
                }

                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error("Erreur Gemini:", error);
                return "Le Néant brouille la communication... (Erreur API)";
            }
        }

        // Feature 1: Générateur de Théorie 1999
        async function generateTheory() {
            const outputDiv = document.getElementById('theory-text');
            const originalContent = outputDiv.innerHTML;
            outputDiv.innerHTML = "<span class='loading-text'>DÉCRYPTAGE DU FLUX EN COURS...</span>";

            const prompt = "Génère une théorie de fan très courte (1 phrase max), cryptique et étrange sur le lien entre Warframe 1999, Arthur et le Néant. Style 'Analog Horror' ou message codé militaire. En Français.";
            
            const theory = await callGemini(prompt);
            outputDiv.innerHTML = `> TRANSMISSION REÇUE:<br>"${theory}"`;
        }

        // Feature 2: Oracle du Néant (Wally Persona)
        async function askGeminiOracle() {
            const input = document.getElementById('user-question');
            const output = document.getElementById('oracle-response-area');
            const question = input.value;
            
            if (!question) return;

            output.innerHTML = "<span class='loading-text'>L'INDIFFERENCE VOUS OBSERVE...</span>";
            input.value = ""; // Clear input

            const prompt = `Tu es 'L'Homme dans le Mur' (The Man in the Wall / Wally) de l'univers du jeu vidéo Warframe. 
            Ton style est : cryptique, moqueur, ancien, effrayant mais calme.
            Tu appelles toujours l'utilisateur "Gamin" (ou "Kiddo").
            Tu fais souvent référence à l'Eternalisme, aux doigts coupés, ou au fait que le temps n'est pas linéaire.
            Réponds à cette question de l'utilisateur en Français, en restant dans ton personnage : "${question}"`;

            const answer = await callGemini(prompt);
            output.innerText = answer;
        }

        // Feature 3: Scanner Tau System (Nouveau)
        async function scanTauSystem() {
            const output = document.getElementById('tau-status');
            output.innerHTML = "<span class='loading-text'>SCAN SECTOR 9...</span>";
            
            const prompt = "Génère un rapport de scan très court (1 phrase type HUD) d'un secteur du Système Tau dans Warframe. Mentionne des menaces Sentients, une terraformation incomplète ou une anomalie. Style: Interface militaire froide. En Français.";
            
            const result = await callGemini(prompt);
            output.innerText = `>> ${result}`;
        }

    </script>

</body>
</html>
